---
name: wolf-brainstorm
description: 通过交互式提问澄清目标和验收标准
---

# Wolf Brainstorm 头脑风暴技能

## 功能

此技能通过系统化提问澄清用户目标，生成可执行的计划摘要：

1. **目标澄清** - 多轮提问确保目标清晰
2. **清晰度评估** - 量化评估目标明确程度
3. **摘要生成** - 基于目标生成可执行计划摘要
4. **决策记录** - 自动记录到项目记忆

## 提问框架

### 第一层：目标本质

\`\`\`yaml
问题 1: 你想要完成什么？
  目的: 获取核心目标
  深度: 表面描述
  
问题 2: 为什么需要这个？
  目的: 理解动机和背景
  深度: 理解价值
\`\`\`

### 第二层：约束与范围

\`\`\`yaml
问题 3: 有什么限制或约束？
  类型: 时间、预算、技术、人力
  目的: 识别边界
  
问题 4: 不包含什么？
  目的: 明确范围边界
  深度: 排除误解
\`\`\`

### 第三层：验收标准

\`\`\`yaml
问题 4: 如何知道目标达成了？
  目的: 量化成功标准
  深度: 可验证
\`\`\`

## 清晰度评估模型

\`\`\`yaml
评分维度 (各 0-20 分):

目标明确 (0-20):
  20: 具体、可衡量、有时间限制
  15: 基本明确，细节待定
  10: 方向明确，执行模糊
  5: 只有模糊想法
  0: 完全不清楚

背景清晰 (0-20):
  20: 完整上下文，动机明确
  15: 主要背景清楚
  10: 部分上下文
  5: 提到但未深入
  0: 未提及

约束明确 (0-20):
  20: 所有关键约束已识别
  15: 主要约束已识别
  10: 部分约束明确
  5: 只有大致概念
  0: 未考虑

验收可验证 (0-20):
  20: 量化、可测试、有时间点
  15: 定性但可判断
  10: 有验收概念
  5: 未明确验收
  0: 无验收标准

阈值:
  64+: 清晰，可以生成摘要
  48-63: 基本清晰，建议补充
  <48: 不够清晰，继续提问
\`\`\`

## 计划摘要生成

\`\`\`yaml
基于目标自动生成摘要:

1. 分析目标类型
2. 识别关键约束
3. 确定验收标准
4. 估算时间

摘要格式:
  - 目标: 一句话描述
  - 验收: 可验证的标准列表
  - 约束: 主要约束列表
  - 预估: X 小时
\`\`\`

## 自动记录

确认后自动调用 `/wolf-remember decision`：

\`\`\`yaml
日期: [YYYY-MM-DD]
决策: 生成计划摘要
原因: 通过头脑风暴澄清目标和验收标准
影响范围:
  - 为 wolf-board 提供任务输入
  - 为 wolf-pack 提供工作流参数
\`\`\`

## 交互式命令处理

\`\`\`yaml
用户输入 → 系统响应:

"跳过" → 跳过当前问题
"回去" → 回到上一个问题
"完成" → 结束提问，进入评估
"够清楚了" → 同上
"重新开始" → 清空状态，重新开始
"显示当前" → 显示已收集的信息
\`\`\`

---

## 执行集成

### 半自动调用链

确认计划摘要后，系统执行：

1. **记录决策** - 自动调用 `/wolf-remember decision`
2. **询问拆分** - 询问用户是否需要拆分任务

\`\`\`markdown
🐺: 嗷~~

✅ 决策已记录到 rules/decisions.md

─────────────────────────────────────────────
是否需要将任务拆分为可执行的单元？
  - 输入 'y' 或 '是' → 自动拆分并存储
  - 输入 'n' 或 '否' → 跳过，稍后手动触发
\`\`\`

3. **拆分任务** (用户确认后)
   - 调用 `/wolf-board --breakdown --save`
   - 存储到 `.wolf/tasks/YYYY-MM-DD-{slug}.units.md`
4. **执行提示** - 显示后续操作选项

### 拆分完成输出格式

\`\`\`markdown
🐺: 嗷~~
════════════════════════════

✅ 决策已记录到 rules/decisions.md
✅ 任务已拆分并存储到 .wolf/tasks/

📋 已生成任务文件:
  .wolf/tasks/2026-02-13-user-auth.units.md

后续操作:
  - 查看任务: cat .wolf/tasks/2026-02-13-user-auth.units.md
  - 执行任务: /wolf-pack unit-auth-model unit-auth-service
  - 重新拆分: /wolf-board --breakdown
\`\`\`

### 手动触发提示

如果用户选择不拆分，输出：

\`\`\`markdown
🐺: 嗷~~

💡 提示: 稍后可手动拆分任务
  /wolf-board --breakdown
\`\`\`

### 数据传递给 wolf-board

\`\`\`yaml
输入:
  - 目标: 一句话描述
  - 验收: 验收标准列表
  - 约束: 约束条件列表
  - 预估: 预估时间
  - 来源: wolf-brainstorm

输出:
  - 执行单元列表 (ExecUnit[])
  - 存储文件路径 (.wolf/tasks/YYYY-MM-DD-{slug}.units.md)
\`\`\`
