# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## é¡¹ç›®æ¦‚è¿°

Wolf Pack æ˜¯ä¸€ä¸ª Claude Code æ’ä»¶ï¼Œæä¾›å¤šå±‚çº§è®°å¿†ç³»ç»Ÿã€å¤´è„‘é£æš´ã€ä»»åŠ¡çœ‹æ¿ä¸å¹¶è¡Œæ‰§è¡Œèƒ½åŠ›ã€‚å®ƒæœ¬èº«æ˜¯ä¸€ä¸ªæ’ä»¶å¼€å‘é¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿä½œä¸ºå…¶ä»–é¡¹ç›®çš„è§„åˆ™ç®¡ç†å·¥å…·ã€‚

**æŠ€æœ¯æ ˆ**: Bash (Hook è„šæœ¬), Markdown (é…ç½®/æ–‡æ¡£), JSON (å…ƒæ•°æ®)

## æ ¸å¿ƒæ¶æ„

### æ’ä»¶ç³»ç»Ÿæ¶æ„

```
wolf-pack/
â”œâ”€â”€ .claude-plugin/          # æ’ä»¶å…ƒæ•°æ®
â”‚   â”œâ”€â”€ plugin.json          # æ’ä»¶å®šä¹‰
â”‚   â””â”€â”€ marketplace.json     # å¸‚åœºå‘å¸ƒé…ç½®
â”œâ”€â”€ hooks/                   # Hook è„šæœ¬ (ç”± Claude Code è°ƒç”¨)
â”‚   â”œâ”€â”€ session-start.sh     # ä¼šè¯å¼€å§‹ï¼šåŠ è½½é¡¹ç›®è§„åˆ™
â”‚   â”œâ”€â”€ session-end.sh       # ä¼šè¯ç»“æŸï¼šè®°å½•ä¼šè¯æ´å¯Ÿ
â”‚   â””â”€â”€ hooks.json           # Hook é…ç½®
â”œâ”€â”€ commands/                # å‘½ä»¤å®šä¹‰ (/wolf-*)
â”‚   â””â”€â”€ *.md                 # frontmatter å®šä¹‰å‚æ•°å’Œæè¿°
â”œâ”€â”€ skills/                  # æŠ€èƒ½å®ç° (è¢«å‘½ä»¤è°ƒç”¨)
â”‚   â””â”€â”€ wolf-*/SKILL.md      # æŠ€èƒ½é€»è¾‘æ–‡æ¡£
â”œâ”€â”€ workflows/               # å·¥ä½œæµæ¨¡æ¿
â”‚   â””â”€â”€ *.md                 # åŒ…å«å‰ç½®æ¡ä»¶ã€æ­¥éª¤ã€Agent é…ç½®
â”œâ”€â”€ templates/               # æ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ workflow.md          # å·¥ä½œæµæ¨¡æ¿
â”‚   â””â”€â”€ memory/              # è®°å¿†æ–‡ä»¶æ¨¡æ¿
â”œâ”€â”€ output-styles/           # è¾“å‡ºæ ·å¼å®šä¹‰
â”‚   â””â”€â”€ wolf-pack.md         # "å—·~~" é£æ ¼è¾“å‡ºè§„èŒƒ
â””â”€â”€ .wolf/                   # è¿è¡Œæ—¶æ•°æ®
    â”œâ”€â”€ trace/               # ä¼šè¯è¿½è¸ªæ–‡ä»¶
    â”œâ”€â”€ tasks/               # æ‹†è§£çš„ä»»åŠ¡å•å…ƒ
    â””â”€â”€ team-active.flag     # å›¢é˜Ÿæ´»åŠ¨æ ‡å¿—
```

### è®°å¿†ç³»ç»Ÿå±‚çº§

```
L0: ~/.claude/CLAUDE.md              # å…¨å±€æŒ‡ä»¤ (Claude è‡ªåŠ¨åŠ è½½)
L1: .wolf.md                          # é¡¹ç›®å…¥å£ç´¢å¼• (æœ¬æ’ä»¶å³ä½¿ç”¨æ­¤)
L2: .claude/rules/                     # äºŒçº§è®°å¿† (æŒ‰éœ€åŠ è½½)
    â”œâ”€â”€ index.md                        # ä¸»ç´¢å¼• (æ±‡æ€»æ‰€æœ‰è®°å¿†)
    â”œâ”€â”€ context/                        # é¡¹ç›®ä¸Šä¸‹æ–‡
    â”‚   â””â”€â”€ project.md                   # é¡¹ç›®å…ƒä¿¡æ¯
    â”œâ”€â”€ decisions/                      # å†³ç­–è®°å¿†
    â”œâ”€â”€ patterns/                       # æ¨¡å¼è®°å¿†
    â”œâ”€â”€ issues/                         # é—®é¢˜è®°å¿† (open/ solved)
    â””â”€â”€ archived/                       # å½’æ¡£è®°å¿†
```

## æ ¸å¿ƒå‘½ä»¤ä¸æŠ€èƒ½

| å‘½ä»¤ | æŠ€èƒ½ | åŠŸèƒ½ |
|------|------|------|
| `/wolf-brainstorm` | wolf-brainstorm | äº¤äº’å¼ç›®æ ‡æ¾„æ¸…ï¼Œç”Ÿæˆè®¡åˆ’æ‘˜è¦ |
| `/wolf-board` | wolf-board | ä»»åŠ¡èšåˆä¸æ‹†è§£ï¼Œç”Ÿæˆæ‰§è¡Œå•å…ƒ |
| `/wolf-pack` | wolf-pack | å·¥ä½œæµæ‰§è¡Œï¼ŒAgent Team å¹¶å‘è°ƒåº¦ |
| `/wolf-insights` | wolf-insights | åˆ†æä¼šè¯ï¼Œæå–é—®é¢˜/æ¨¡å¼/äº®ç‚¹ |
| `/wolf-memory` | wolf-memory | è®°å¿†ç®¡ç†ï¼šè®°å½•/åŠ è½½/æœç´¢ |
| `/wolf-session` | wolf-session | ä¼šè¯çŠ¶æ€ç®¡ç† (è·¨å¹³å°æ”¯æŒ) |
| `/wolf-terminal` | wolf-terminal | Windows Terminal åˆ†å±å¯åŠ¨å™¨ |

## å·¥ä½œæµç³»ç»Ÿ

### å·¥ä½œæµæ ¼å¼

å·¥ä½œæµå®šä¹‰åœ¨ `workflows/*.md` ä¸­ï¼ŒåŒ…å«ï¼š

1. **å‰ç½®æ¡ä»¶æ£€æŸ¥** - åŠ æƒè¯„åˆ†æœºåˆ¶ (å¦‚ threshold: 60 è¡¨ç¤ºæ€»åˆ†éœ€è¾¾åˆ° 60)
2. **ç ´åæ€§æ“ä½œç¡®è®¤** - æ¶‰åŠåˆ é™¤/è¦†ç›–æ—¶éœ€ç”¨æˆ·ç¡®è®¤
3. **æ‰§è¡Œæ­¥éª¤** - æ”¯æŒä¾èµ–å…³ç³»ã€å¹¶å‘ã€Agent åˆ†é…

### é¢„å®šä¹‰å·¥ä½œæµ

| å·¥ä½œæµ | ç”¨é€” | å¹¶å‘ |
|--------|------|------|
| `feature-dev` | å®Œæ•´åŠŸèƒ½å¼€å‘ (éœ€æ±‚â†’è®¾è®¡â†’å®ç°â†’å®¡æŸ¥) | å¦ |
| `multi-debug` | å¤šé—®é¢˜å¹¶è¡Œè°ƒè¯• | æ˜¯ |
| `refactor` | ä»£ç é‡æ„ | éƒ¨åˆ† |
| `task-board` | ä»»åŠ¡çœ‹æ¿æ‰§è¡Œ | æ˜¯ |

### Agent Team åä½œ

ä½¿ç”¨ Claude Code å®˜æ–¹ Agent Team ç³»ç»Ÿï¼š

```
TeamCreate() â†’ TaskCreate() â†’ TaskUpdate(owner/blockedBy)
â†’ SendMessage(broadcast) â†’ TaskList() â†’ shutdown_request â†’ TeamDelete()
```

- **æ–‡ä»¶å†²çªå¤„ç†**: æ£€æŸ¥å„æ­¥éª¤æ¶‰åŠæ–‡ä»¶ï¼Œé‡å åˆ™è®¾ç½® `addBlockedBy` ä¾èµ–
- **å¹¶å‘æ§åˆ¶**: æ— å†²çªä»»åŠ¡ `owner=null` (è‡ªç”±ç«äº‰)ï¼Œæœ‰å†²çªä»»åŠ¡è®¾ç½®ä¾èµ–

## å¼€å‘å·¥ä½œæµ

### æ·»åŠ æ–°å‘½ä»¤

1. åœ¨ `commands/` åˆ›å»º `.md` æ–‡ä»¶
2. Frontmatter å®šä¹‰å‚æ•°: `argument-hint` å’Œ `description`
3. åœ¨å¯¹åº” `skills/` ç›®å½•å®ç°æŠ€èƒ½é€»è¾‘

### æ·»åŠ æ–°æŠ€èƒ½

1. åœ¨ `skills/` åˆ›å»ºæ–°ç›®å½•
2. åˆ›å»º `SKILL.md` æ–‡ä»¶ï¼ŒåŒ…å«å®Œæ•´é€»è¾‘è¯´æ˜
3. åœ¨å¯¹åº”çš„ command ä¸­å¼•ç”¨æŠ€èƒ½å

### æ·»åŠ æ–°å·¥ä½œæµ

```bash
/wolf-pack create    # äº¤äº’å¼åˆ›å»º
# æˆ–ç›´æ¥åœ¨ workflows/ åˆ›å»º .md æ–‡ä»¶
/wolf-pack validate [workflow]  # éªŒè¯
```

## è¾“å‡ºæ ·å¼è§„èŒƒ

é¡¹ç›®ä½¿ç”¨è‡ªå®šä¹‰è¾“å‡ºæ ·å¼ `wolf-pack:Wolf Pack`ï¼š

- **å¼ºåˆ¶å‰ç¼€**: æ‰€æœ‰è¾“å‡ºä»¥ `ğŸº: å—·~~` å¼€å¤´
- **è§†è§‰åˆ†éš”**: ä½¿ç”¨ `â•â•â•` ä¸»è¦åˆ†åŒºï¼Œ `â”€â”€â”€â”€â”€â”€â”€â”€â”€` å­åˆ†åŒº
- **ä¿¡æ¯ç±»å‹**: ğŸ“‹ è®¡åˆ’ã€âœ… æˆåŠŸã€âš ï¸ è­¦å‘Šã€âŒ é”™è¯¯ã€ğŸ’¡ æç¤º
- **ä¼˜å…ˆçº§**: ğŸ”´ é«˜ã€ğŸŸ¡ ä¸­ã€ğŸŸ¢ ä½

é…ç½®ä½ç½®: `.claude/settings.local.json` â†’ `outputStyle`

## Hook æœºåˆ¶

### SessionStart Hook

- è¯»å– `.wolf.md` å’Œ `.claude/rules/` ç›®å½•
- æ³¨å…¥é¡¹ç›®è§„åˆ™åˆ°ç³»ç»Ÿä¸Šä¸‹æ–‡
- å¦‚æ— è§„åˆ™ï¼Œæä¾›åˆå§‹åŒ–æç¤º

### SessionEnd Hook

- è®°å½•æ–‡ä»¶å˜åŒ–åˆ° `.wolf/trace/YYYY-MM-DD-files.md`
- è¿½åŠ ä¼šè¯å…ƒæ•°æ®åˆ° `.claude/rules/.session-insights.md`
- è®°å½•ä¼šè¯ç»Ÿè®¡åˆ° `.wolf/trace/YYYY-MM-DD-stats.md`

## æƒé™é…ç½®

`.claude/settings.local.json` ä¸­å®šä¹‰äº†å¿…è¦çš„ Bash æƒé™ï¼š

- Git æ“ä½œ (add, rm, commit)
- PowerShell è„šæœ¬æ‰§è¡Œ (åˆ†å±å¯åŠ¨å™¨)
- Hook è„šæœ¬æ‰§è¡Œ (session-start, session-end)

## é¡¹ç›®çº¦å®š

1. **å¤šæ–‡ä»¶åŠŸèƒ½å¼€å‘å‰å…ˆå±•ç¤ºæ¶æ„** - æ¶‰åŠ 3+ æ–‡ä»¶å¿…é¡»å…ˆå±•ç¤ºï¼šæ–‡ä»¶ç»“æ„æ ‘ã€æ¥å£/ç±»è®¾è®¡ã€æ¨¡å—ä¾èµ–
2. **å‡½æ•°å¼æ€æƒ³** - ä¸€ä¸ªå‡½æ•°å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œé¿å…å‰¯ä½œç”¨
3. **Markdown ä½œä¸ºé…ç½®** - å‘½ä»¤ã€æŠ€èƒ½ã€å·¥ä½œæµå‡ä½¿ç”¨ Markdown å®šä¹‰
4. **è®°å¿†æŒä¹…åŒ–** - æ‰€æœ‰é‡è¦å†³ç­–ã€æ¨¡å¼ã€é—®é¢˜éƒ½åº”è®°å½•åˆ° `.claude/rules/`

## æµ‹è¯•å·¥ä½œæµ

```bash
# æµ‹è¯•å‘½ä»¤
/wolf-brainstorm
/wolf-board
/wolf-memory init

# æµ‹è¯•å·¥ä½œæµ
/wolf-pack list
/wolf-pack validate feature-dev
```

## ç›¸å…³æ–‡ä»¶

- `.wolf.md` - é¡¹ç›®çº§æŒ‡ä»¤å…¥å£ (ä¹Ÿæ˜¯æœ¬æ’ä»¶è‡ªå·±çš„å…¥å£)
- `.claude/rules/index.md` - è®°å¿†ç´¢å¼•æ±‡æ€»
- `output-styles/wolf-pack.md` - å®Œæ•´è¾“å‡ºæ ·å¼è§„èŒƒ
- `skills/wolf-pack/SKILL.md` - å·¥ä½œæµæ‰§è¡Œæ ¸å¿ƒé€»è¾‘
